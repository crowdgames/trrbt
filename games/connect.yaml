---
name: connect four
start:
- = = = = = = =;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
tree:
  type: loop-until-all
  children:
  - type: x-ident
    nid: redturn
    children:
    - type: player
      number: 1
      children:
      - type: rewrite
        lhs: =;_
        rhs: =;R
    - type: loop-until-all
      children:
      - type: rewrite
        lhs: R;_
        rhs: _;R
    - type: win
      number: 1
      children:
      - type: x-turn
        children:
        - type: x-skew
          children:
          - type: match
            pattern: R R R R
  - type: x-nextplayer
    children:
    - type: x-swaponly
      what: R
      with: Y
      children:
      - type: x-link
        target: redturn
