---
name: connect four BT
start:
- = = = = = = =;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
  _ _ _ _ _ _ _;
tree:
  type: loop-until-all
  children:
  - type: ident
    id: redturn
    children:
    - type: player
      number: 1
      children:
      - type: rewrite
        lhs: =;_
        rhs: =;R
    - type: loop-until-all
      children:
      - type: rewrite
        lhs: R;_
        rhs: _;R
    - type: win
      number: 1
      children:
      - type: turn
        children:
        - type: skew
          children:
          - type: match
            pattern: R R R R
  - type: nextplayer
    children:
    - type: swaponly
      what: R
      with: Y
      children:
      - type: link
        target: redturn
