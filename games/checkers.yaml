---
name: checkers BT
start:
  - ___= BPS= ___= BPS= ___= BPS= ___= BPS=;
    BPS_ ____ BPS_ ____ BPS_ ____ BPS_ ____;
    ____ BPS_ ____ BPS_ ____ BPS_ ____ BPS_;
    ____ ____ ____ ____ ____ ____ ____ ____;
    ____ ____ ____ ____ ____ ____ ____ ____;
    RPS_ ____ RPS_ ____ RPS_ ____ RPS_ ____;
    ____ RPS_ ____ RPS_ ____ RPS_ ____ RPS_;
    RPS= ___= RPS= ___= RPS= ___= RPS= ___=;
win:
  - pattern: Bab
    count: eq 0
lose:
  - pattern: Rab
    count: eq 0
rule:
  type: mirror
  children:
  - type: sequence
    children:
    - type: sequence
      id: redturn
      children:
      - type: player
        number: 1
        children:
        - type: sequence
          children:
          - type: or
            children:
            - type: rule
              lhs: .    ___a;
                   RbSc  .  ;
              rhs: .    RbSa;
                   ___c .   ;
            - type: rule
              lhs: RKSa .   ;
                   .    ___b;
              rhs: ___a .   ;
                   .    RKSb;
            - type: rule
              lhs: .    .    ___a;
                   .    BxS_ .   ;
                   RbSc .    .   ;
              rhs: .    .    RbJa;
                   .    ____ .   ;
                   ___c .    .   ;
            - type: rule
              lhs: RKSa  .   .   ;
                   .    BxS_ .   ;
                   .    .    ___b;
              rhs: ___a .    .   ;
                   .    ____ .   ;
                   .    .    RKJb;
          - type: loop
            children:
            - type: or
              children:
              - type: rule
                lhs: .    .    ___a;
                     .    BxS_ .   ;
                     RbJc .    .   ;
                rhs: .    .    RbJa;
                     .    ____ .   ;
                     ___c .    .   ;
              - type: rule
                lhs: RKJa  .   .   ;
                     .    BxS_ .   ;
                     .    .    ___b;
                rhs: ___a .    .   ;
                     .    ____ .   ;
                     .    .    RKJb;
      - type: rule
        lhs: RaJb
        rhs: RaSb
      - type: rule
        lhs: RPS=
        rhs: RKS=
    - type: nextplayer
      children:
      - type: fliponly
        children:
        - type: swaponly
          what: R
          with: B
          children:
          - type: link
            to: redturn
