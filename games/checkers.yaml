---
name: checkers BT
start:
  - =   =   =   =   =   =   =   =  ;
    _   BPS _   BPS _   BPS _   BPS;
    BPS _   BPS _   BPS _   BPS _  ;
    _   BPS _   BPS _   BPS _   BPS;
    _   _   _   _   _   _   _   _  ;
    _   _   _   _   _   _   _   _  ;
    RPS _   RPS _   RPS _   RPS _  ;
    _   RPS _   RPS _   RPS _   RPS;
    RPS _   RPS _   RPS _   RPS _  ;
    =   =   =   =   =   =   =   =  ;
tree:
  type: mirror
  children:
  - type: sequence
    children:
    - type: sequence
      id: redturn
      children:
      - type: player
        number: 1
        children:
        - type: sequence
          children:
          - type: choice
            children:
            - type: rewrite
              lhs: .    _  ;
                   RbS  .  ;
              rhs: .    RbS;
                   _   .   ;
            - type: rewrite
              lhs: RKS .  ;
                   .   _  ;
              rhs: _   .  ;
                   .    RKS;
            - type: rewrite
              lhs: .   .   _  ;
                   .   BxS .  ;
                   RbS .   .  ;
              rhs: .   .   RbJ;
                   .   _   .  ;
                   _   .   .  ;
            - type: rewrite
              lhs: RKS .   .  ;
                   .   BxS .  ;
                   .   .   _  ;
              rhs: _   .   .  ;
                   .   _   .  ;
                   .   .   RKJ;
          - type: loop
            children:
            - type: choice
              children:
              - type: rewrite
                lhs: .   .   _  ;
                     .   BxS .  ;
                     RbJ .   .  ;
                rhs: .   .   RbJ;
                     .   _   .  ;
                     _   .   .  ;
              - type: rewrite
                lhs: RKJ  .  .  ;
                     .   BxS .  ;
                     .   .   _  ;
                rhs: _   .   .  ;
                     .   _   .  ;
                     .   .   RKJ;
      - type: rewrite
        lhs: RaJ
        rhs: RaS
      - type: rewrite
        lhs: =  ; RPS
        rhs: =  ; RKS
      - type: win
        number: 1
        children:
         - type: none
           children:
           - type: match
             pattern: Babc
    - type: nextplayer
      children:
      - type: fliponly
        children:
        - type: swaponly
          what: R
          with: B
          children:
          - type: link
            to: redturn
