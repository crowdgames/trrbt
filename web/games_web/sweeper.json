{"name":"sweeper","sprites":null,"tree":{"type":"order","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"type":"order","comment":"setup board","nid":"","children":[{"children":[{"children":[{"type":"set-board","comment":"","nid":"","pattern":{"main":[["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"],["\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f","\u2b1b\ufe0f"]]}},{"type":"layer-template","comment":"","nid":"","layer":"hide","with":"\u2b1b\ufe0f"},{"type":"layer-template","comment":"","nid":"","layer":"mine","with":"_"},{"type":"layer-template","comment":"","nid":"","layer":"count","with":"_"},{"type":"layer-template","comment":"","nid":"","layer":"sweep","with":"_"},{"type":"layer-template","comment":"","nid":"","layer":"plant","with":"_"}],"type":"order","comment":"","nid":""}],"type":"x-ident","comment":"blank board","nid":""},{"type":"x-ident","comment":"place mines","nid":"","children":[{"type":"loop-times","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"mine":[["_"]]},"rhs":{"mine":[["\ud83d\udca3\ufe0f"]]}}],"times":5}]},{"type":"x-ident","comment":"count mines","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"mine":[["\ud83d\udca3\ufe0f"]],"count":[["_"]]},"rhs":{"count":[["a"]]}}]},{"type":"x-ident","comment":"count","nid":"count","children":[{"type":"order","comment":"","nid":"","children":[{"type":"x-ident","comment":"","nid":"countstep","children":[{"type":"order","comment":"","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","_"]]},"rhs":{"count":[["b","1"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","1"]]},"rhs":{"count":[["b","2"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","2"]]},"rhs":{"count":[["b","3"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","3"]]},"rhs":{"count":[["b","4"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","4"]]},"rhs":{"count":[["b","5"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","5"]]},"rhs":{"count":[["b","6"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","6"]]},"rhs":{"count":[["b","7"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a","7"]]},"rhs":{"count":[["b","8"]]}}]},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["a"]]},"rhs":{"count":[["b"]]}}]}]}]},{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"x-link","comment":"","nid":"","target":"countstep"}],"remorig":true}],"what":"b","withs":["c"]}],"what":"a","withs":["b"]},{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-rotate","comment":"","nid":"","children":[{"type":"x-link","comment":"","nid":"","target":"countstep"}],"remorig":true}],"what":"b","withs":["d"]}],"what":"a","withs":["c"]},{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"children":[{"children":[{"type":"x-link","comment":"","nid":"","target":"countstep"}],"type":"x-skew","comment":"","nid":"","remorig":true}],"type":"x-rotate","comment":"","nid":"","remorig":true}],"what":"b","withs":["e"]}],"what":"a","withs":["d"]},{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"children":[{"type":"x-rotate","comment":"","nid":"","children":[{"type":"x-link","comment":"","nid":"","target":"countstep"}],"remorig":true}],"type":"x-rotate","comment":"","nid":"","remorig":true}],"what":"b","withs":["f"]}],"what":"a","withs":["e"]},{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"children":[{"type":"x-rotate","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"x-link","comment":"","nid":"","target":"countstep"}],"remorig":true}],"remorig":true}],"type":"x-rotate","comment":"","nid":"","remorig":true}],"what":"b","withs":["g"]}],"what":"a","withs":["f"]},{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"children":[{"type":"x-rotate","comment":"","nid":"","children":[{"type":"x-rotate","comment":"","nid":"","children":[{"type":"x-link","comment":"","nid":"","target":"countstep"}],"remorig":true}],"remorig":true}],"type":"x-rotate","comment":"","nid":"","remorig":true}],"what":"b","withs":["h"]}],"what":"a","withs":["g"]},{"type":"x-replace","comment":"","nid":"","children":[{"type":"x-replace","comment":"","nid":"","children":[{"children":[{"type":"x-rotate","comment":"","nid":"","children":[{"type":"x-rotate","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"x-link","comment":"","nid":"","target":"countstep"}],"remorig":true}],"remorig":true}],"remorig":true}],"type":"x-rotate","comment":"","nid":"","remorig":true}],"what":"b","withs":["i"]}],"what":"a","withs":["h"]},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["i"]]},"rhs":{"count":[["_"]]}}]}]}]},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"mine":[["_"]],"count":[["n"]]},"rhs":{"mine":[["n"]],"count":[["_"]]}}]}]}]},{"type":"loop-until-all","comment":"game loop","nid":"","children":[{"type":"x-ident","comment":"count sweep","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"sweep":[["_*"]]},"rhs":{"sweep":[["_"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"sweep":[["_**"]]},"rhs":{"sweep":[["_"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u26f3\ufe0f"]],"count":[["_"]]},"rhs":{"count":[["a"]]}}]},{"type":"x-link","comment":"","nid":"","target":"count"},{"children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"sweep":[["_"]],"mine":[["n"]],"count":[["n"]]},"rhs":{"sweep":[["_*"]],"count":[["_"]]}}],"type":"loop-until-all","comment":"","nid":""},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["n"]]},"rhs":{"count":[["_"]]}}]},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"x-spin","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["_","\u2b1b\ufe0f"]],"sweep":[["_*","."]]},"rhs":{"sweep":[["_**","."]]}}],"remorig":false}],"remorig":false}]}]},{"type":"x-ident","comment":"count plant","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"plant":[["_*"]]},"rhs":{"plant":[["_"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"plant":[["_**"]]},"rhs":{"plant":[["_"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u2b1b\ufe0f"]],"count":[["_"]]},"rhs":{"count":[["a"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u26f3\ufe0f"]],"count":[["_"]]},"rhs":{"count":[["a"]]}}]},{"type":"x-link","comment":"","nid":"","target":"count"},{"children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"plant":[["_"]],"mine":[["n"]],"count":[["n"]]},"rhs":{"plant":[["_*"]],"count":[["_"]]}}],"type":"loop-until-all","comment":"","nid":""},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"count":[["n"]]},"rhs":{"count":[["_"]]}}]},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"x-spin","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["_","\u2b1b\ufe0f"]],"plant":[["_*","."]]},"rhs":{"plant":[["_**","."]]}}],"remorig":false}],"remorig":false}]}]},{"type":"x-ident","comment":"player selection","nid":"","children":[{"type":"player","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u2b1b\ufe0f"]]},"rhs":{"main":[["\u26cf\ufe0f"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u2b1b\ufe0f"]]},"rhs":{"main":[["\u26f3\ufe0f"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u26f3\ufe0f"]]},"rhs":{"main":[["\u26cf\ufe0f"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u26f3\ufe0f"]]},"rhs":{"main":[["\u2b1b\ufe0f"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["_"]],"hide":[["_"]],"sweep":[["_**"]]},"rhs":{"main":[["\u2692\ufe0f"]]}},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["_"]],"hide":[["_"]],"plant":[["_**"]]},"rhs":{"main":[["\ud83d\udea9"]]}}],"pid":"\ud83d\udc77"}]},{"type":"x-ident","comment":"spread sweep","nid":"","children":[{"type":"order","comment":"","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"x-spin","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u2692\ufe0f","\u2b1b\ufe0f"]]},"rhs":{"main":[["\u2692\ufe0f","\u26cf\ufe0f"]]}}],"remorig":false}],"remorig":false}]},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u2692\ufe0f"]]},"rhs":{"main":[["_"]]}}]}]},{"type":"x-ident","comment":"spread plant","nid":"","children":[{"type":"order","comment":"","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"x-spin","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\ud83d\udea9","\u2b1b\ufe0f"]]},"rhs":{"main":[["\ud83d\udea9","\u26f3\ufe0f"]]}}],"remorig":false}],"remorig":false}]},{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\ud83d\udea9"]]},"rhs":{"main":[["_"]]}}]}]},{"type":"x-ident","comment":"remove selection","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["\u26cf\ufe0f"]]},"rhs":{"main":[["_"]],"hide":[["_"]]}}]}]},{"type":"x-ident","comment":"clear surroundings","nid":"","children":[{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"x-spin","comment":"","nid":"","children":[{"type":"x-skew","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"main":[["_","\u2b1b\ufe0f"]],"hide":[["_","\u2b1b\ufe0f"]],"mine":[["_","."]]},"rhs":{"main":[["_","_"]],"hide":[["_","_"]],"mine":[["_","."]]}}],"remorig":false}],"remorig":false}]}]},{"type":"x-ident","comment":"check result","nid":"","children":[{"type":"order","comment":"","nid":"","children":[{"type":"lose","comment":"","nid":"","children":[{"type":"all","comment":"","nid":"","children":[{"type":"match","pattern":{"main":[["_"]],"hide":[["_"]],"mine":[["\ud83d\udca3\ufe0f"]]}},{"type":"rewrite","comment":"re-hide the uncovered mine so the next node will succeed even if thre is 1 mine","nid":"","button":"","lhs":{"hide":[["_"]],"mine":[["\ud83d\udca3\ufe0f"]]},"rhs":{"hide":[["\u2b1b\ufe0f"]],"mine":[["\ud83d\udca3\ufe0f"]]}},{"type":"loop-until-all","comment":"","nid":"","children":[{"type":"rewrite","comment":"","nid":"","button":"","lhs":{"hide":[["\u2b1b\ufe0f"]],"mine":[["\ud83d\udca3\ufe0f"]]},"rhs":{"main":[["_"]],"hide":[["_"]],"mine":[["\ud83d\udca3\ufe0f"]]}}]}]}],"pid":"\ud83d\udc77"},{"type":"win","comment":"","nid":"","children":[{"type":"none","comment":"","nid":"","children":[{"type":"match","pattern":{"hide":[["\u2b1b\ufe0f"]],"mine":[["_"]]}},{"type":"match","pattern":{"hide":[["\u2b1b\ufe0f"]],"mine":[["n"]]}}]}],"pid":"\ud83d\udc77"}]}]}]}],"what":"n","withs":["1","2","3","4","5","6","7","8"]}]}}
