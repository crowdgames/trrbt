---
name: peg solitaire-gameloop
start:
tree:
  type: loop-until-all
  nid: gameloop
  children:
  - type: player
    pid: "1"
    children:
    - type: rewrite
      lhs: O O _
      rhs: _ _ O
    - type: rewrite
      lhs: _ O O
      rhs: O _ _
    - type: rewrite
      lhs: O;
           O; 
           _;
      rhs: _; 
           _; 
           O;
    - type: rewrite
      lhs: _; 
           O; 
           O;
      rhs: O;
           _; 
           _;
  - type: win
    pid: "1"
    children:
    - type: match-times
      times: 1
      pattern: O
